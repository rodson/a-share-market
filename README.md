# A股市场行业板块数据展示系统

一个基于React的A股市场数据可视化应用，完全复刻专业金融数据展示界面，支持查询历史数据并导出为图片。

## 功能特性

- 📅 **日期选择**：支持选择任意日期查询历史数据
- 📈 **股债利差分析**：展示2005-2025年股债利差和万得全A历史走势，提供PB/PE估值分位
- 📊 **市场概况**：展示AB股涨跌统计（涨停、上涨、平盘、下跌、跌停）和主要指数表现
- 🏢 **板块数据**：完整展示11大类板块数据
  - 概念板块（上证50、沪深300、中证500等）
  - 银行板块（工商银行、证券、保险等）
  - 工业板块
  - 原材料板块（钢铁、有色金属、黄金等）
  - 可选消费板块（汽车、新能源汽车、锂电池等）
  - 日常消费板块（白酒、食品饮料、农业等）
  - 医疗保健板块（医疗器械、医药、中药等）
  - 信息技术板块（半导体、芯片、消费电子等）
  - 电信服务板块
  - 公用事业板块（电力、水电等）
  - 房地产板块
- 📈 **详细信息**：每个板块显示涨跌幅、领涨股、领跌股、涨跌家数
- 💾 **图片导出**：支持将数据页面导出为PNG图片
- 🎨 **专业界面**：完全复刻专业金融数据展示界面，深灰色主题，红涨绿跌

## 数据来源

本项目支持多种数据源：

1. **新浪财经API** - 实时指数行情数据
2. **东方财富网API** - 板块数据和个股数据
3. **腾讯财经API** - 备用数据源
4. **AkShare** - 可选的Python数据接口

> 注意：由于是免费API，部分数据可能存在延迟或限制。如需更专业的数据服务，建议使用Tushare等付费接口。

## 技术栈

- **前端框架**：React 18
- **UI组件库**：Material-UI (MUI)
- **构建工具**：Vite
- **后端服务**：Express.js
- **图片导出**：html2canvas
- **日期处理**：dayjs

## 安装和运行

### 1. 安装依赖

```bash
npm install
```

### 2. 启动后端服务

```bash
npm run server
```

后端服务将运行在 `http://localhost:3001`

### 3. 启动前端开发服务器

在新的终端窗口中运行：

```bash
npm run dev
```

前端应用将运行在 `http://localhost:3000`

### 4. 访问应用

在浏览器中打开 `http://localhost:3000`

## 使用说明

1. **选择日期**：点击日期选择器，选择要查询的日期
2. **查询数据**：点击"查询数据"按钮获取市场数据
3. **查看数据**：页面将展示市场概况和各板块详细数据
4. **导出图片**：点击"导出图片"按钮，将当前页面保存为PNG图片

## 项目结构

```
a-share-market/
├── src/
│   ├── components/          # React组件
│   │   ├── MarketOverview.jsx   # 市场概况组件
│   │   └── SectorTable.jsx      # 板块数据表格组件
│   ├── services/            # API服务
│   │   └── api.js          # 前端API调用
│   ├── App.jsx             # 主应用组件
│   ├── main.jsx            # 应用入口
│   └── index.css           # 全局样式
├── server/
│   ├── index.js            # Express服务器
│   └── dataService.js      # 数据获取服务
├── index.html              # HTML模板
├── vite.config.js          # Vite配置
└── package.json            # 项目配置

```

## API接口说明

### GET /api/market-data

获取指定日期的市场数据

**请求参数：**
- `date` (string): 日期，格式：YYYY-MM-DD

**响应示例：**
```json
{
  "date": "2024-01-15",
  "overview": {
    "upLimit": 25,
    "up": 1523,
    "flat": 156,
    "down": 1342,
    "downLimit": 18,
    "changePercent": 0.85,
    "indices": [...]
  },
  "sectors": [...]
}
```

## 数据接口扩展

如需接入真实的金融数据API，可以修改 `server/dataService.js` 文件：

### 使用Tushare（推荐）

```javascript
// 需要先注册获取token: https://tushare.pro/
import tushare from 'tushare';
const pro = tushare.pro_api('your_token_here');
```

### 使用AkShare

```bash
pip install akshare
```

然后通过Python脚本提供数据接口。

## 注意事项

1. 免费API可能存在访问频率限制
2. 部分数据源可能需要代理访问
3. 建议在生产环境使用付费的专业数据接口
4. 导出图片功能在某些浏览器可能需要用户授权

## 开发计划

- [ ] 添加更多数据源支持
- [ ] 实现数据缓存机制
- [ ] 添加图表可视化
- [ ] 支持自定义板块分类
- [ ] 添加数据对比功能
- [ ] 移动端适配优化

## License

MIT
